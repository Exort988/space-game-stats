<!DOCTYPE html>
<html>
<head>
    <title>Game Analytics</title>
</head>
<body>
    <h1>Game Analytics Server</h1>
    <p>Server is running...</p>
    
    <script>
        console.log('Game analytics page loaded');
        
        // YOUR DISCORD WEBHOOK - MAKE SURE THIS IS CORRECT
        const webhookURL = 'https://discord.com/api/webhooks/1422788438679224421/8SASrVfPpNjNrFOr7kYO2TNR0-Vx9D2nZBoCNYmoNHlT9Rg9tZXLqRBbDwdRR8VKpWWl';
        
        // Get data from URL
        const urlParams = new URLSearchParams(window.location.search);
        const encodedData = urlParams.get('data');
        
        if (encodedData) {
            console.log('Data received:', encodedData);
            
            try {
                // Decode the data
                const decodedData = atob(encodedData);
                const jsonData = JSON.parse(decodedData);
                console.log('Decoded data:', jsonData);
                
                // Format the message for Discord
                const discordMessage = {
                    content: `üéÆ **Game Event**: ${jsonData.event}\nüìä **Data**: \`\`\`json\n${JSON.stringify(jsonData, null, 2)}\n\`\`\``
                };
                
                // Send to Discord
                fetch(webhookURL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(discordMessage)
                })
                .then(response => {
                    console.log('Sent to Discord, status:', response.status);
                    document.body.innerHTML += '<p>‚úÖ Data sent to Discord</p>';
                })
                .catch(error => {
                    console.error('Error sending to Discord:', error);
                    document.body.innerHTML += '<p>‚ùå Error sending to Discord</p>';
                });
                
            } catch (error) {
                console.error('Error processing data:', error);
                document.body.innerHTML += '<p>‚ùå Error processing data</p>';
            }
        } else {
            console.log('No data received');
        }
    </script>
</body>
</html>

